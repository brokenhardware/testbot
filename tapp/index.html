<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test app</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
  </head>
  <body style="font-family: sans-serif;">
    <div>Test app</div>
    <div>
      <span>Hash param:</span>
      <span id="hashParam"></span>
    </div>
     <div>
      <span>URL param:</span>
      <span id="urlParam"></span>
    </div>
  </body>
  <script>
    const initData = window.Telegram.WebApp.initData;
    
    //index.html#param1=value1&param2=value2
    if (window.location.hash.substring(1)) {
      const hashParams = new URLSearchParams(window.location.hash.substring(1));
      const hParam1 = hashParams.get('param1');
      if (hParam1.length > 0) {
        document.getElementById('hashParam').innerText = hParam1;
      }
    }

    //index.html?param1=value1&param2=value2
    if (window.location.search) {
      const urlParams = new URLSearchParams(window.location.search);
      const uParam1 = urlParams.get('param1');
      if (uParam1.length > 0) {
        document.getElementById('urlParam').innerText = uParam1;
      }
    }

Telegram.WebApp.MainButton.text = "Пригласить";
Telegram.WebApp.MainButton.show();

Telegram.WebApp.MainButton.onClick(() => {
  const appLink = "https://t.me/githubbot1_bot?startapp=abcdef";
  const messageText = "Link to miniapp";
  
  const telegramShareUrl = `https://t.me/share/url?url=${encodeURIComponent(appLink)}&text=${encodeURIComponent(messageText)}`;
    
  Telegram.WebApp.openTelegramLink(telegramShareUrl);
});

  </script>
</html>
